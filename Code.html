<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robux Bank</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #1a1a1a;
            color: white;
        }
        .logo {
            font-size: 3em;
            margin-top: 20px;
            color: #00ff99;
        }
        #bank, #graph-container, #redeem-section {
            display: none;
        }
        .btn {
            background-color: #00ff99;
            color: black;
            padding: 10px 20px;
            margin: 10px;
            border: none;
            cursor: pointer;
        }
        input[type="text"], input[type="password"] {
            padding: 10px;
            width: 250px;
        }
        #graph-container {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="logo">Cool Robux Bank</div>

    <div id="login">
        <h2>Login</h2>
        <input type="text" id="username" placeholder="Username"><br><br>
        <input type="password" id="password" placeholder="Password"><br><br>
        <button class="btn" onclick="login()">Login</button>
    </div>

    <div id="bank">
        <h2>Your Robux Bank</h2>
        <p>Current Balance: <span id="balance">28</span> Robux</p>
        <button class="btn" onclick="deposit(10)">Deposit 10 Robux</button>
        <button class="btn" onclick="deposit(100)">Deposit 100 Robux</button>
        <button class="btn" onclick="deposit(1000)">Deposit 1000 Robux</button>
        <button class="btn" onclick="withdraw()">Withdraw 1 Robux</button>

        <div id="redeem-section">
            <h3>Redeem Code</h3>
            <input type="text" id="redeem-code" placeholder="Enter redeem code"><br><br>
            <button class="btn" onclick="redeemCode()">Redeem</button>
        </div>
    </div>

    <div id="graph-container">
        <canvas id="graph" width="500" height="300"></canvas>
    </div>

    <script>
        let balance = 28;
        let balanceHistory = [28];
        const validCode = '2801-9741-3846-2842';
        let codeRedeemed = false;

        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === 'Plain' && password === 'Plain') {
                document.getElementById('login').style.display = 'none';
                document.getElementById('bank').style.display = 'block';
                document.getElementById('graph-container').style.display = 'block';
                drawGraph();
            } else {
                alert('Invalid login credentials. Please try again.');
            }
        }

        function updateBalanceDisplay() {
            document.getElementById('balance').textContent = balance;
        }

        function deposit(amount) {
            balance += amount;
            balanceHistory.push(balance);
            updateBalanceDisplay();
            drawGraph();
        }

        function withdraw() {
            if (balance > 0) {
                balance--;
                balanceHistory.push(balance);
                updateBalanceDisplay();
                drawGraph();
            } else {
                alert('Not enough Robux!');
            }
        }

        function redeemCode() {
            const enteredCode = document.getElementById('redeem-code').value;
            if (enteredCode === validCode && !codeRedeemed) {
                balance += 100;
                balanceHistory.push(balance);
                updateBalanceDisplay();
                drawGraph();
                alert('Code redeemed! You received 100 Robux.');
                codeRedeemed = true;
            } else if (codeRedeemed) {
                alert('Code has already been redeemed.');
            } else {
                alert('Invalid code. Please try again.');
            }
        }

        function drawGraph() {
            const canvas = document.getElementById('graph');
            const ctx = canvas.getContext('2d');
            const maxBalance = Math.max(...balanceHistory, 100);
            const graphHeight = canvas.height - 20;
            const graphWidth = canvas.width - 40;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw grid lines and labels
            ctx.beginPath();
            ctx.strokeStyle = '#555';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 5; i++) {
                const y = graphHeight - (graphHeight / 5) * i;
                ctx.moveTo(40, y);
                ctx.lineTo(graphWidth + 40, y);
                ctx.fillStyle = '#fff';
                ctx.fillText(Math.round((maxBalance / 5) * i), 5, y + 5);
            }
            ctx.stroke();

            // Draw the curve
            ctx.beginPath();
            ctx.strokeStyle = '#00ff99';
            ctx.lineWidth = 2;
            ctx.moveTo(40, graphHeight - (balanceHistory[0] / maxBalance) * graphHeight);

            for (let i = 1; i < balanceHistory.length; i++) {
                const x = (i / balanceHistory.length) * graphWidth + 40;
                const y = graphHeight - (balanceHistory[i] / maxBalance) * graphHeight;
                ctx.lineTo(x, y);
            }
            ctx.stroke();
        }
    </script>

</body>
</html>
